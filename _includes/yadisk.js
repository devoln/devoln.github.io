var YandexDisk={BuildRequestURI:function(c,a){var d="https://cloud-api.yandex.net/v1/disk/"+c+"?",e=!0,b;for(b in a)a.hasOwnProperty(b)&&(e||(d+="&"),e=!1,d+=b+"="+encodeURIComponent(a[b]));return d},Request:function(c,a,d,e){a=YandexDisk.BuildRequestURI(a,d);var b=new XMLHttpRequest;b.onreadystatechange=function(){b.readyState==b.DONE&&e(b)};b.open(c,a,!0);b.send()},RequestJson:function(c,a,d,e){YandexDisk.Request(c,a,d,function(b){200==b.status?e(JSON.parse(b.responseText)):PrintLineError&&PrintLineError("Не удалось выполнить запрос к Яндекс.Диску. Статус: "+b.status+", "+b.statusText)})},GetDownloadLink:function(c,a,d){"/"!=a.charAt(0)&&(a="/"+a);c={public_key:c,fields:"href"};a&&(c.path=a);YandexDisk.RequestJson("GET","public/resources/download",c,function(a){d(a.href)})}};