---
layout: post
title: Synthgen Particles - stateless система частиц на GPU
redirect_from:
  - /projects/flying-particles
---

- [Скачать демку](https://github.com/gammaker/flying-particles/blob/master/exe/FlyingParticles.exe?raw=true)
- [Проект на github](https://github.com/gammaker/flying-particles/)
- [Web-версия](../particles/)

Android-версия является наиболее оптимизированной, актуальной и функциональной версией с поддержкой вращения камеры и управления другими параметрами:
<a href='https://play.google.com/store/apps/details?id=com.gammaker.synthgenparticles'><img alt='Доступно в Google Play' src='https://play.google.com/intl/en_gb/badges/images/generic/ru_badge_web_generic.png'/></a>

![Скриншот демки]({{ site.baseurl }}/images/flying-particles.jpg)

## Описание

Система частиц реализована методом stateless - частицы не имеют состояния, поэтому не занимают памяти сами по себе. Для любого количества частиц потребление памяти константно - это вершинный шейдер и его немногочисленные параметров, используемые для просчёта параметров частиц.

Траектории, размеры, цвета и другие параметры частиц определяются аналитически с помощью функций от времени.
Таким образом, данная реализация позволяет легко управлять временем анимации - ускорять, замедлять или перематывать систему частиц в любой момент времени, в том числе и в прошлое.
В демке эта возможность демонстрируется - симуляция периодически ускоряется и замедляется. Кроме того, можно вручную влиять на скорость в демке.

Поскольку частицы полностью просчитываются на GPU, производительности достаточно для того, чтобы рендерить миллионы частиц в реальном времени.


## Описание Windows-версии:
По умолчанию в демке всего 50000 частиц, но можно изменить их количество и размеры нажатием клавиш 1-9. Например, цифра 7 делает количество частиц, равное одному миллиону.

 Эта демка отличается от большинства других 4K интро по следующим пунктам:

- Запускается мгновенно;
- Работает в родном разрешении экрана;
- Требуется лишь поддержка OpenGL 3.0;
- Работает на всех протестированных мной видеокартах всех трёх производителей:
  - Intel HD Graphics 4600;
  - Intel HD Graphics (BayTrail);
  - NVidia GeForce GTX 755M;
  - AMD Radeon HD 6310M;
  - ATI Mobility Radeon HD 4570.


## Управление (Windows и WebGL версия)

Это демо поддерживает управление различными параметрами системы частиц:

- Чтобы поменять размеры и количество частиц, используйте клавиши 1-9;
- Изменение скорости симуляции с помощью клавиш Shift и Ctrl;
- Используйте левую и правую стрелки для изменения направления времени анимации;
- Во время нажатия стрелок вверх и вниз анимация перематывается со скоростью 5x в текущем и обратном направлении соответственно;
- P - приостановить\продолжить;
- I - перезапустить анимацию сначала.

